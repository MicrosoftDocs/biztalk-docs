---
description: "Learn more about: Stopping Application Processing on the Source System"
title: "Stopping Application Processing on the Source System"
ms.custom: ""
ms.date: "06/08/2017"
ms.prod: "biztalk-server"
ms.reviewer: ""
ms.suite: ""
ms.topic: "article"
---
# Stopping Application Processing on the Source System
Application processing should be stopped when the source [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] runtime servers are still able to participate in document processing using the existing database servers. In this scenario, processing activity must be stopped so that a consistent restore operation can be completed.  
  
 To stop application processing on the source system, ensure that no connections are open between the production [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] runtime computers and the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] computers that house the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases. Follow these steps to stop application processing on the production [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] runtime computers:  
  
1. Disable all receive locations on the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computers in the BizTalk group. Make a note of all receive locations that are disabled so that these receive locations can be re-enabled later. This will stop [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] from processing incoming messages.  
  
2. Stop all host instances from running on the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computers in the group. This can be done from the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console. Make a note of all the host instances that were stopped so that these host instances can be restarted later.  
  
3. Stop all [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] Agent jobs related to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] on the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] computers that house [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.  
  
4. If BAM is in use, disable any BAM cube update and data maintenance SSIS packages. This can be done by using [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] Management Studio.  
  
5. Stop Analysis Services on the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] computers that house [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases. This can be done by stopping all instances of MSSQLServerOLAPService on the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] computers where Analysis Services is installed.  
  
6. Stop any other [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] services in Services Manager that may be running on the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computers in the group, for example, the Enterprise Single Sign-On Service and the Rule Engine Update Service. Make a note of the services that are stopped so that they can be restarted later.  
  
7. Close all applications that connect to the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] computers that house [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases. This includes instances of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, [!INCLUDE[btsVStudio2008](../includes/btsvstudio2008-md.md)], and any other installed BizTalk applications.  
  
8. Verify that there is no database activity generated by [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]. Use [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] Management Studio to see what processes are connected to the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] computers that house [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases. This can be done by expanding **Management** and double-clicking **Activity Monitor** in [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] Management Studio. Then click to select **Process Info**. Alternatively use the system stored procedures **sp_who** or **sp_who2** to identify any open connections to the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] computers that house [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases. If there are any processes connected, locate them and terminate them normally; or as a last resort, right-click each process in the **Process Info** pane in [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] Management Studio and click **Kill process** to terminate the connection.  
  
9. Additional database processing may be occurring in application databases. If these databases will be restored, ensure that all processing is stopped.  
  
## See Also  
 [Restoring the BizTalk Group](../technical-guides/restoring-the-biztalk-group.md)
