---
description: "Learn more about: Tutorial 1: Migrate BizTalk Projects to the SQL adapter"
title: "Tutorial 1: Migrate BizTalk Projects to the SQL adapter"
ms.custom: ""
ms.date: "06/08/2017"
ms.prod: "biztalk-server"
ms.reviewer: ""
ms.suite: ""
ms.topic: "article"
---
# Tutorial 1: Migrate BizTalk Projects to the SQL adapter
The previous version of the SQL adapter that shipped with Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] differs from the WCF-based [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] in many aspects, including:  
  
- The design-time experience of creating a BizTalk project.  
  
- The metadata retrieval experience.  
  
- Schema file name and namespace.  
  
- Data type mappings.  
  
- The operations that can be performed using the adapter.  
  
- Physical port configuration in the BizTalk Server Administration console  
  
  These differences are explained in the topics within Migrating BizTalk Projects Created Using the Previous Version of the SQLadapter.  
  
  However, you can make changes to the BizTalk project that was created using the previous version of the adapter and make it work with the WCF-based [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)].  
  
  This tutorial provides instructions on the changes you should make to the existing BizTalk project created using the previous version of the adapter.  
  
> [!NOTE]
>  In this tutorial, for the sake of brevity, the previous version of the SQL adapter will be referred to as vPrev SQL adapter. Similarly, a BizTalk project that uses the vPrev SQL adapter will be referred to as vPrev BizTalk project.  
> 
> [!IMPORTANT]
>  This tutorial provides guidance on how to migrate a vPrev SQL adapter BizTalk project that performs a basic insert operation on a SQL Server database table. This tutorial does not cover all possible scenarios for migration from the vPrev SQL adapter to the new WCF-based [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)]. You must use this migration tutorial as a foundation and modify accordingly to make changes that are relevant to your existing project.  
  
## Sample Used for the Tutorial  
 This tutorial is based upon a sample (SQL_Migration) that demonstrates how to migrate a vPrev BizTalk project. The sample is provided with Microsoft [!INCLUDE[adapterpacknoversion](../../includes/adapterpacknoversion-md.md)]. For more information, see Samples.  
  
## Prerequisites  
  
-   You must have a vPrev BizTalk project. This tutorial involves a BizTalk project that performs an Insert operation on a Customer table in the SQL Server database. The Customer table has the following design:  
  
    |Column Name|Description|  
    |-----------------|-----------------|  
    |v_custid|Primary key, integer type, identity field|  
    |Name|nchar(10) type|  
  
-   You must have a request message to perform an Insert operation on the SQL Server database using the vPrev SQL adapter. The request message must conform to the schema of the Insert operation generated using the vPrev SQL adapter.  
  
-   Be familiar with the creating BizTalk projects in Visual Studio. For more information, see [Using the BizTalk Project System](../../core/using-the-biztalk-project-system.md).
  
## Understanding a BizTalk Project Created Using the Previous Version of the Adapter  
 The key constituents of a vPrev BizTalk project created are:  
  
-   **BizTalk orchestration**. This is a simple orchestration that picks request messages from a file location, sends the request message to the SQL Server database using a WCF-Custom send-receive port, receives the response, and saves it to another file location.  
  
-   **Schema for the operation you wish to perform on the SQL Server database**. This tutorial involves a BizTalk project that performs an Insert operation on the Customer table. The schema generated for the Customer table is InsertCustomerService.xsd. This schema is generated using the vPrev SQL adapter.  
  
-   **Request message**. The request message to perform an Insert operation on the Customer table. The schema of the request message conforms to the schema of the Insert operation as surfaced by the previous version of the SQL adapter.  
  
## How to Migrate a BizTalk Project Created Using the Previous Version of the Adapter  
 The goal of this migration tutorial is to enable you to send a request message, which conforms to schema generated by vPrev SQL adapter, using a WCF-Custom port that can only process messages conforming to the WCF-based [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)]. So, in short, the migration exercise involves configuring the WCF-Custom port to process messages that do not conform to the WCF-based [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)]'s schema.  
  
 However, to be able to configure the WCF-Custom port appropriately, you must perform the following tasks:  
  
- Generate metadata for the Insert operation on the Customer table using the WCF-based [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)].  
  
- Map the request message for performing an Insert operation using the vPrev SQL adapter to a request message for performing an Insert operation using the WCF-based [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)].  
  
- Map the response message received using the WCF-based [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] to the response message for the vPrev SQL adapter.  
  
- Create a WCF-Custom SQL send-receive port in the [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console.  
  
- Configure the WCF-Custom port to use the request and response mappings.  
  
## In This Section  
  
-   [Step 1: Modify the vPrev BizTalk Project using the SQL adapter](../../adapters-and-accelerators/adapter-sql/step-1-modify-the-vprev-biztalk-project-using-the-sql-adapter.md)  
  
-   [Step 2: Configure the Orchestration in BizTalk Server Administration Console using the SQL adapter](../../adapters-and-accelerators/adapter-sql/step-2-configure-the-orchestration-to-use-the-sql-adapter-in-biztalk-server.md)  
  
-   [Step 3: Test the Migrated Application that uses the SQL adapter](../../adapters-and-accelerators/adapter-sql/step-3-test-the-migrated-application-that-uses-the-sql-adapter.md)  
  
## See Also  
 [SQL Adapter Tutorials](../../adapters-and-accelerators/adapter-sql/sql-adapter-tutorials.md)
