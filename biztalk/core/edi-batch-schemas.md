---
title: "EDI Batch Schemas | Microsoft Docs"
ms.custom: ""
ms.date: "06/08/2017"
ms.prod: "biztalk-server"
ms.reviewer: ""

ms.suite: ""
ms.tgt_pltfrm: ""
ms.topic: "article"
ms.assetid: 26da8036-8fe0-481e-b1e9-7f2e5b090768
caps.latest.revision: 17
author: "MandiOhlinger"
ms.author: "mandia"
manager: "anneta"
---
# EDI Batch Schemas
When BizTalk Server processes a preserved interchange, it uses at least three schemas:  

- The batch schemas (Interchange XML schemas) to validate the root node of the preserved batched interchange (X12_BatchSchema or Edifact_BatchSchema deployed in BaseArtifacts.dll)  

- The envelope service schemas to validate the interchange, gorup, and transaction set headers and trailers (X12ServiceSchema or EdifactServiceSchema deployed in BaseArtifacts.dll). For more information, see [EDI Service and Control Schemas](../core/edi-service-and-control-schemas.md).  

- Document schemas for each document type in the batched interchange (deployed in your project). For more information, see [EDI Document Schemas](../core/edi-document-schemas.md).  

  Batch schemas are used at runtime to validate inbound and outbound batched interchanges that are being preserved. Batch schemas are also used at design time to validate and generate message instances.  

## Batch Schemas Used at Runtime  
 Two canonical versions of the batch schemas exist: X12_BatchSchema.xsd for X12 encoding and EDIFACT_BatchSchema.xsd for EDIFACT encoding. These schemas are templates that include the control segment. These schemas have the following root names and namespaces:  


|       Schema        |       Root Node       |                    Namespace                     |
|---------------------|-----------------------|--------------------------------------------------|
|   X12_BatchSchema   |   X12InterchangeXML   | http://schemas.microsoft.com/Edi/X12_BatchSchema |
| Edifact_BatchSchema | EdifactInterchangeXML |     http://schemas.microsoft.com/Edi/Edifact     |

 The document type on the XML instance generated by the receive pipeline will be a constant (\<Encoding\>_BatchSchema.xml) and will reference this canonical schema. You can use this instance in a map in an orchestration; however, before doing so you have to change the document type and namespace to map to the actual schema required.  

 You do not need to specify the batch schema at design time in the project, because it is deployed in BaseArtifacts.dll.  

## Batch Schemas in the Schema Store  
 The batch schemas that BizTalk Server uses at runtime to process preserved batches are deployed in the BaseArtifacts.dll assembly. These are automatically available for run-time processing. Edifact_BatchSchema and X12_BatchSchema are also available in the BizTalk schema store at [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]XSD_Schema\EDI. Each of these schemas is only used at design time to validate or generate the interchange. Neither schema is required for validation in the receive pipeline or send pipeline at runtime.  

## See Also  
 [EDI Schemas](../core/edi-schemas.md)   
 [Processing Incoming Batches](../core/processing-incoming-batches.md)