---
title: "AS2 Send Components | Microsoft Docs"
ms.custom: ""
ms.date: "06/08/2017"
ms.prod: "biztalk-server"
ms.reviewer: ""

ms.suite: ""
ms.tgt_pltfrm: ""
ms.topic: "article"
ms.assetid: 35113732-fe32-4776-be25-971ec66c365c
caps.latest.revision: 22
author: "MandiOhlinger"
ms.author: "mandia"
manager: "anneta"
---
# AS2 Send Components
[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] uses several components to send AS2 messages.  
  
## AS2 Send Pipelines  
 Most AS2 send processing is performed in the following AS2 send pipelines. These pipelines are installed in `Microsoft.BizTalk.Edi.EdiIntPipelines.dll` in \Program Files\Microsoft BizTalk Server 20xx\Pipeline Components.  
  
> [!NOTE]
>  The AS2 Send pipeline is only supported in a 32-bit BizTalk Host process.  
  
 **AS2EDISend Pipeline**  
  
 This pipeline generates and sends EDI messages over AS2. The pipeline consists of the following pipeline components:  
  
- EDI Assembler  
  
- AS2 Encoder  
  
  This pipeline is not used to generate and send MDNs over AS2, because the MDN does not need to be processed by the EDI Assembler. Use the AS2SendPipeline to send MDNs.  
  
> [!NOTE]
>  Running the AS2EDISend pipeline from an orchestration is not supported.  
  
 **AS2Send Pipeline**  
  
 This pipeline sends messages over AS2 when the messages are not encoded in EDI. It also sends MDNs over AS2. The pipeline consists of the following pipeline components:  
  
- AS2 Encoder.  
  
  If the messages to be sent over AS2 are neither EDI nor XML messages, you can create a customized AS2Send pipeline to handle these messages. This pipeline must have a customized assembler to convert the intermediate XML in BizTalk Server into the other format before encoding the message in EDIINT/AS2.  
  
> [!NOTE]
>  Running the AS2Send pipeline from an orchestration is not supported.  
  
## AS2 Send Pipeline Components  
 The AS2 send pipelines use the following pipeline components. These components are installed in `Microsoft.BizTalk.EdiInt.PipelineComponents.dll` in \Program Files\Microsoft BizTalk Server 20xx\Pipeline Components\\.  
  
 **EDI Assembler**  
  
 In the EDIINT send pipelines, the EDI Assembler serializes the EDI interchange.  
  
 **AS2 Encoder**  
  
 The AS2 Encoder is included in the encode stage of the AS2 send pipelines. It uses the BizTalk S/MIME pipeline component to provide S/MIME encoding functionality to AS2 and MDN messages. The AS2 Encoder does the following:  
  
-   Applies AS2/HTTP headers  
  
-   Signs outgoing messages, if enabled  
  
-   Encrypts outgoing messages, if enabled (for EDI/AS2, not MDN)  
  
-   Compresses the message, if enabled (for EDI/AS2, not MDN)  
  
-   Stores the payload in wire format if the **NRR enabled for outbound decoded AS2 messages** property is selected, and stores the message in wire format if the **NRR enabled for outbound encoded AS2 messages** property is selected  
  
-   Computes the MIC value and stores it in the data store  
  
-   Updates and correlates records in the non-repudiation receipt database  
  
-   For MDN messages, acts as a passthrough pipeline, routing the MDN generated by the AS2 Decoder in the AS2Receive receive pipeline. If required by the configuration settings, the AS2 Encoder will sign the MDN.  
  
    > [!NOTE]
    >  Eight-bit encoding is used on AS2 messages. Base64 encoding is only applied to signatures in AS2 messages and MDNs.  
  
## HTTP Adapter  
 The send ports used for EDIINT AS2 processing use the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] HTTP Adapter. The HTTP Adapter is configured in both one-way and solicit-response transmission.  
  
## Non-Repudiation Database  
 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] uses the non-repudiation database (the EdiMessageContent table of the BizTalkDTADb database) to do the following:  
  
> [!NOTE]
>  The EdiMessageContent table exists in the BizTalkDTADb database only if one of the non-repudiation storage agreement properties are checked.  
  
-   Provide a non-repudiation trail for signed MDN  
  
-   Correlate an outbound message with its incoming MDN  
  
-   Store messages through various state changes  
  
-   Associate error codes with HTTP Response and MDN  
  
-   Display records based on filter criteria  
  
-   Archive marked records  
  
> [!IMPORTANT]
>  To ensure authentication and integrity of messages stored in the non-repudiation database, digital signatures should be used on all messages that will be stored in the database, both original AS2 messages and MDNs. For more information, see section 9.1 of [RFC 1430, "MIME-Based Secure Peer-to-Peer Business Data Interchange Using HTTP, Applicability Statement 2 (AS2)"](http://go.microsoft.com/fwlink/?LinkID=184212) ([http://go.microsoft.com/fwlink/?LinkID=184212](http://go.microsoft.com/fwlink/?LinkID=184212)).  
  
## See Also  
 [How BizTalk Server Sends AS2 Messages](../core/how-biztalk-server-sends-as2-messages.md)