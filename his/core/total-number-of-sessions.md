---
title: "Hardware capacity planning"
description: Sessions, server load, fault tolerance, and deployment options to plan for your hardware and capacity using Host Integration Server (HIS)
ms.custom: ""
ms.date: "11/30/2017"
ms.prod: "host-integration-server"
ms.reviewer: ""
ms.suite: ""
ms.topic: "article"
---
# Hardware capacity planning
The capacity planning for Host Integration Server, SNA Gateway needs to take into consideration several factors.  They can be divided into four areas; total number of sessions, server load, fault tolerance and deployment model.  

## Total Number of Sessions
In general the independent and dependent sessions to an IBM Host must be hard coded.   With dependent sessions (3270 Display, Printer, or LUA) this is especially true, as each LU defined can only support one session.  In addition most customers still require a large number of dependent sessions.  The total number of sessions will need to taken into account when doing the capacity planning, as they will need to be explicitly configured on each server.  
  
 Each Host Integration Server can support a maximum of 60,000 dependent sessions.  Although one server can support this number, typically the sessions will be divided across multiple servers to provide fault tolerance.   Most customers will support a maximum of 7,000-10,000 Display or LUA sessions and 2000 Printer sessions per server.  
  
 Another factor is the number of unique users connecting to the server.  Each server can support 8,000 unique users.  Typically customers will run multiple sessions per desktop.  If the customer scenario is a 1:1 ratio, then the total number of sessions per server should be keep below 8,000.  
  
 An alternate strategy is to use LU Pools.  This allows the Display and LUA sessions to be grouped together under one name, referred to as a “Pool”.  From the user’s perspective the pool name is used instead of the LU name.  The server will provide them with the next available LU in the pool.   In scenarios where there is intermittent use of sessions, pooling can allow a smaller number of sessions to service a larger group of users.  For example there may be 10,000 users, but never more than 5,000 sessions in use at one time.  In this case a pool can be created with 5,000 sessions to accommodate the peak load.  This strategy works best when users and application are not tied to specific LUs.  
  
 Dependent LUs used for emulation of Printer session follow the same limits as Display & LUA sessions, but have additional constraints.  The operating system may limit the number of concurrently printing sessions.  On Windows 2008R2 & Windows 2012, Host Integration Server defaults to a limit of 500 concurrent sessions.  In addition, Printer sessions incur more overhead than Display or LUA session due to the interaction with the Windows Printing System.  Using multi-processor systems will increase concurrent printing performance.  Typically customers will support a maximum of 2000 configured sessions per server.  
  
 The following table provides some of the limitation for the components.  
  
|**Component**|**Maximum Values**|  
|-------------------|------------------------|  
|**HIS Connections**|-   1:1 mapping to a Host PU<br /><br /> -   255 Dependent LUs<br /><br /> -   250 Connections per SNA Service|  
|**SNA Service (Node)**|-   15,000 Dependent LUs<br /><br /> -   Four per Server|  
|**HIS Server**|-   60,000 Dependent LUs<br /><br /> -   1000 Connections<br /><br /> -   15 per Sub Domain|

## Server Load
In addition the total number of sessions, the amount of work being done by the server need to be factored into the capacity planning.  
  
 One factor is the demand generated by the clients.  The rate at which the data will flow affects the workload.  Intermittent screen access such as a loan fulfillment application would generate less workload than a teller application in constant use.  The amount of data flowing will also affect the workload.  Typically 3270 screen based application will generate small amounts of data, where as a file transfer or print job will send full packets of data.  
  
 Another factor is the other services being provided by the server.  If the server is exposing the sessions through the TN3270 service, there will be a moderate increase in workload.  Additional resources should be considered (e.g. additional CPU) or reduction of total sessions.  If the server is providing print session emulation through the SNA Print service, this can greatly increase the workload.  Print sessions configured to use PDT files create a small increase in workload.  Print sessions configured for GDI will create a large increase in workload.  Typically customers will isolate print sessions to a dedicated server.  
  
 In addition to the Host Integration Server services, there can be other services and functions performed by the server, such as hosting a database or providing Windows printing services.  It is difficult to predict exactly how much processing power is required to run multiple server applications. In many cases, your own requirements to meet a certain level of response time or transaction rate will indicate the specific hardware requirements for your environment.  
  
 The following table provides a general guideline for hardware requirements.  
  
|**Per Server**|**Guidelines**|  
|--------------------|--------------------|  
|**1000-5000 Users**<br /><br /> **15,000 Sessions**|-   Multiprocessor system with at least 8GB RAM<br /><br /> -   Gigabit Ethernet connections<br /><br /> -   Multiple LAN adapters to reduce bottlenecks|  
|**200-1000 Users**<br /><br /> **5,000 Sessions**|-   Dual processor system with at least 4GB RAM<br /><br /> -   Gigabit Ethernet connection|  
|**1-200 Users**<br /><br /> **1,000 Sessions**|-   Single processor system with at least 2GB RAM<br /><br /> -   Gigabit Ethernet connection|

## Fault Tolerance
The total number of sessions per server and total number of servers will need to take into account the fault tolerance requirements.  Host Integration Server supports a logical grouping of servers called a sub-domain.  Clients are configured for a particular sub-domain and can access resources on any server in that sub-domain.  By increasing the number of server over which the sessions are spread, you reduce the amount of capacity lost when one server fails.  For example if you need to support 10,000 sessions, dividing them between two servers mean a 50% loss of capacity if one server fails.  If these are spread across four servers then the loss of one server only reduces the capacity by 25%.  
  
These servers can be overloaded to provide redundancy.  Using the example above, you could place 7,500 sessions on two servers.  In this case the loss of one server will only reduces the capacity by 25%.  With this strategy you can provide 100% redundancy.

## Deployment Model
Lastly where the server is deployed also factors into the capacity planning.  If your servers are centrally located in the data center then a core set of servers can service all the branch locations.  If your servers are branch deployed, then generally they would only service the sessions at that branch.  Typically branch deployment requires more total servers at lower capacity, where as the central deployment can use less servers at a higher capacity.  With the per CPU license model these two deployment models may not affect the over licensing cost (e.g. 4 quad-proc servers vs. 16 single-proc servers).